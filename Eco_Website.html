<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ghana Environmental Impact Tracker</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            transition: background-color 0.3s, color 0.3s;
        }
        header {
            background-color: #006B3F;
            color: white;
            text-align: center;
            padding: 1rem;
        }
        nav {
            background-color: #333;
            overflow: hidden;
        }
        nav a {
            float: left;
            display: block;
            color: white;
            text-align: center;
            padding: 14px 20px;
            text-decoration: none;
        }
        nav a:hover {
            background-color: #ddd;
            color: black;
        }
        .ghana-flag {
            background: linear-gradient(to bottom, #CE1126 33.33%, #FCD116 33.33% 66.66%, #006B3F 66.66%);
            height: 10px;
            margin-bottom: 10px;
        }
        section {
            margin-top: 40px;
            padding: 20px;
            background-color: #f4f4f4;
            border-radius: 5px;
        }
        .chart-container {
            position: relative;
            height: 200px;
            width: 100%;
        }
        .image-container img {
            max-width: 100%;
            border-radius: 5px;
            margin-top: 10px;
        }
        #darkModeToggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: #006B3F;
            color: white;
            padding: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
        }
        .dark-mode {
            background-color: #333;
            color: #f4f4f4;
        }
        .dark-mode section {
            background-color: #444;
        }
        #map {
            height: 400px;
            width: 100%;
            margin-top: 20px;
        }

        /* Personal Impact styles */
        #personal-impact {
            flex-basis: 100%;
            background-color: #e0f2f1;
        }
        .badge {
            display: inline-block;
            padding: 10px;
            margin: 5px;
            background-color: #FCD116;
            border-radius: 50%;
            color: #006B3F;
            font-weight: bold;
        }

        /* Alert styles */
        .alert-container {
            background-color: #ffdddd;
            color: #d8000c;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 20px;
        }

        .alert-container h3 {
            margin: 0;
            font-size: 1.2rem;
        }

        #alertMessage {
            font-weight: bold;
        }

        /* Map regions */
        main {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
        }

        #map-container {
            flex-basis: 100%;
            height: 400px;
            background-color: #e0e0e0;
            margin-bottom: 20px;
            position: relative;
        }

        .map-region {
            position: absolute;
            background-color: rgba(0, 107, 63, 0.5);
            cursor: pointer;
        }

        .map-region:hover {
            background-color: rgba(0, 107, 63, 0.8);
        }

        #region-info {
            margin-top: 10px;
        }
    </style>
</head>

<body>

    <!-- Dark Mode Toggle -->
    <button id="darkModeToggle">Toggle Dark Mode</button>

    <!-- Navigation Bar -->
    <nav>
        <a href="#home">Home</a>
        <a href="#about">About</a>
        <a href="#environmentalUpdates">Environmental Insights</a>
        <a href="#galamsey">Galamsey</a>
        <a href="#contact">Contact</a>
    </nav>

    <!-- Header -->
    <header>
        <div class="ghana-flag"></div>
        <h1>Ghana Environmental Impact Tracker</h1>
    </header>

    <!-- Real-time Alerts Section -->
    <section id="realTimeAlerts">
        <h2>Real-time Alerts</h2>
        <div class="alert-container">
            <h3>Critical Alert:</h3>
            <p id="alertMessage">Loading alerts...</p>
        </div>
    </section>

    <!-- Home Section -->
    <section id="home">
        <h2>Welcome to Ghana Environmental Updates</h2>
        <p>This platform provides the latest updates on air quality, deforestation, and conservation efforts in Ghana. Our goal is to raise awareness and engage the public in sustainable practices that help preserve the environment.</p>
        <div class="image-container">
            <img src="https://example.com/environmental-awareness.jpg" alt="Environmental Awareness Image">
        </div>
    </section>

    <!-- Personal Impact Section -->
    <section id="personal-impact">
        <h2>Your Environmental Impact</h2>
        <div id="impact-stats">
            <p>Trees Planted: <span id="trees-planted">0</span></p>
            <p>Waste Recycled (kg): <span id="waste-recycled">0</span></p>
            <p>Water Saved (liters): <span id="water-saved">0</span></p>
        </div>
        <div id="badges">
            <div class="badge" title="Planter">üå≥</div>
            <div class="badge" title="Recycler">‚ôªÔ∏è</div>
            <div class="badge" title="Water Saver">üíß</div>
        </div>
        <div class="chart-container">
            <canvas id="impact-chart"></canvas>
        </div>
    </section>

    <!-- Community Engagement Section -->
    <section id="community-engagement">
        <h2>Community Events</h2>
        <ul id="events-list">
            <li>Loading events...</li>
        </ul>
        <button id="create-event">Create New Event</button>
    </section>

    <!-- Data Analysis and Visualization Section -->
    <section id="data-analysis">
        <h2>Environmental Trend Analysis</h2>
        <select id="trend-select">
            <option value="air-quality">Air Quality</option>
            <option value="deforestation">Deforestation</option>
            <option value="water-quality">Water Quality</option>
        </select>
        <div class="chart-container">
            <canvas id="trend-chart"></canvas>
        </div>
    </section>

    <!-- Galamsey Section -->
    <section id="galamsey">
        <h2>Galamsey (Illegal Mining) in Ghana</h2>
        <p><strong>Galamsey</strong>, a local term for illegal gold mining, has become one of the most significant environmental challenges in Ghana. It involves mining activities carried out without legal permits, often in forests, rivers, and agricultural lands. Galamsey is responsible for:</p>
        <ul>
            <li>Destruction of vast forest areas and loss of biodiversity.</li>
            <li>Severe water pollution in major rivers such as the Pra, Ankobra, and Offin Rivers due to mercury and cyanide use in mining processes.</li>
            <li>Degradation of agricultural lands, making farming impossible in some areas.</li>
            <li>Health hazards for local communities due to exposure to toxic substances.</li>
        </ul>
        <p>Efforts are being made by the government and environmental groups to curb Galamsey through enforcement of mining laws, community education, and sustainable alternatives for miners. However, the problem persists, making it a critical issue in Ghana's environmental agenda.</p>
        <div class="chart-container">
            <canvas id="galamseyImpactChart"></canvas>
        </div>
        <div class="image-container">
            <img src="https://example.com/galamsey.jpg" alt="Galamsey (Illegal Mining) Image">
        </div>
    </section>

    <!-- Deforestation Section -->
    <section>
        <h3>Deforestation in Ghana</h3>
        <p>Hectares lost this year: <span id="hectaresLost">Loading...</span></p>
        <div class="chart-container">
            <canvas id="deforestationChart"></canvas>
        </div>
        <div class="image-container">
            <img src="https://example.com/deforestation.jpg" alt="Deforestation Image">
        </div>
    </section>

    <!-- Project Showcase Section -->
    <section id="project-showcase">
        <h2>My Environmental Projects</h2>
        <div id="projects-list">
            <!-- Projects will be dynamically added here -->
        </div>
        <button id="add-project">Add New Project</button>
    </section>

    <!-- Interactive Map Section -->
    <section>
        <h2>Interactive Map</h2>
        <div id="map"></div>
        <div class="image-container">
            <img src="https://example.com/ghana-map.jpg" alt="Ghana Map Image">
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact">
        <h2>Contact Us</h2>
        <p>If you have any questions, suggestions, or would like to contribute to our platform, feel free to reach out. You can email us at <strong>info@ghanaenvironmentalupdates.com</strong> or call us at <strong>+233 123 456 789</strong>.</p>
        <div class="image-container">
            <img src="https://example.com/contact-us.jpg" alt="Contact Us Image">
        </div>
    </section>

    <script>
        // Dark mode toggle
        const darkModeToggle = document.getElementById('darkModeToggle');
        darkModeToggle.addEventListener('click', () => {
            document.body.classList.toggle('dark-mode');
        });

        // Simulated data - replace with real API calls
        function updateAirQualityData() {
            const city = document.getElementById('city-select').value;
            const aqi = Math.floor(Math.random() * 150) + 50;
            document.getElementById('aqi').textContent = aqi;

            const ctx = document.getElementById('airQualityChart').getContext('2d');
            if (window.airQualityChart) window.airQualityChart.destroy();
            window.airQualityChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        label: `AQI in ${city.charAt(0).toUpperCase() + city.slice(1)}`,
                        data: [100, 120, 80, 90, 110, aqi],
                        borderColor: '#CE1126',
                        tension: 0.1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        tooltip: {
                            callbacks: {
                                label: (context) => `AQI: ${context.parsed.y}`
                            }
                        }
                    }
                }
            });
        }

        function updateDeforestationData() {
            const hectaresLost = Math.floor(Math.random() * 1000) + 500;
            document.getElementById('hectaresLost').textContent = hectaresLost;

            const ctx = document.getElementById('deforestationChart').getContext('2d');
            if (window.deforestationChart) window.deforestationChart.destroy();
            window.deforestationChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['2020', '2021', '2022', '2023', '2024'],
                    datasets: [{
                        label: 'Hectares Lost',
                        data: [800, 750, 900, 600, hectaresLost],
                        backgroundColor: '#FCD116',
                        hoverBackgroundColor: '#CE1126'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        tooltip: {
                            callbacks: {
                                label: (context) => `${context.raw} hectares lost`
                            }
                        }
                    }
                }
            });
        }

        function updateConservationEfforts() {
            const efforts = [
                'Planted 5000 trees in Kakum National Park',
                'Cleaned up 10 km of coastline in Cape Coast',
                'Implemented new recycling program in Kumasi',
                'Launched community garden initiative in Tamale',
                'Established protected area in Atewa Forest'
            ];
            const list = document.getElementById('conservationList');
            list.innerHTML = '';
            efforts.forEach(effort => {
                const li = document.createElement('li');
                li.textContent = effort;
                list.appendChild(li);
            });
        }

        function updateGalamseyImpact() {
            const ctx = document.getElementById('galamseyImpactChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['2019', '2020', '2021', '2022', '2023'],
                    datasets: [{
                        label: 'Deforestation from Galamsey (hectares)',
                        data: [500, 750, 1000, 1200, 1500],
                        borderColor: '#CE1126',
                        tension: 0.1,
                        fill: false
                    }, {
                        label: 'River Pollution Index',
                        data: [80, 85, 90, 92, 95],
                        borderColor: '#006B3F',
                        tension: 0.1,
                        fill: false
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        tooltip: {
                            callbacks: {
                                label: (context) => `${context.dataset.label}: ${context.parsed.y}`
                            }
                        }
                    }
                }
            });
        }

        // Real-time alerts simulation
        function updateAlerts() {
            const alerts = [
                "Severe air pollution alert in Accra: AQI above 150!",
                "Flooding risk in the Northern Region due to heavy rainfall.",
                "High mercury levels detected in Pra River from illegal mining.",
                "Forest fire risk in Western Region - stay alert!",
                "Water contamination in the Volta River, avoid usage."
            ];
            const alertMessage = alerts[Math.floor(Math.random() * alerts.length)];
            document.getElementById('alertMessage').textContent = alertMessage;
        }

        // Interactive map with Leaflet.js
        function loadMap() {
            const map = L.map('map').setView([7.9465, -1.0232], 6); // Centered on Ghana

            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '¬© OpenStreetMap contributors'
            }).addTo(map);

            L.marker([5.6037, -0.1870]).addTo(map) // Marker for Accra
                .bindPopup('Accra - AQI Monitoring Point')
                .openPopup();

            L.marker([7.9535, -1.0299]).addTo(map) // Marker for Kumasi
                .bindPopup('Kumasi - Conservation Efforts')
                .openPopup();
        }

        // Show loading state until data is updated
        const loadingElements = document.querySelectorAll('.loading');
        function hideLoading() {
            loadingElements.forEach(el => el.style.display = 'none');
        }

        // Map interaction
        document.querySelectorAll('.map-region').forEach(region => {
            region.addEventListener('click', function() {
                const regionName = this.getAttribute('data-region');
                document.getElementById('region-info').textContent = `Selected region: ${regionName}`;
                // Here you would typically load region-specific data
            });
        });

        // Update data every 5 seconds
        setInterval(() => {
            updateAirQualityData();
            updateDeforestationData();
            updateConservationEfforts();
            updateGalamseyImpact();
            updateAlerts(); // Update real-time alerts
            hideLoading();
        }, 5000);

        // Initial update
        updateAirQualityData();
        updateDeforestationData();
        updateConservationEfforts();
        updateGalamseyImpact();
        updateAlerts(); // Initial alert
        hideLoading();
        loadMap();
    </script>
</body>

</html>
